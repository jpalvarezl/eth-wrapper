(this["webpackJsonpeth-wrapper"]=this["webpackJsonpeth-wrapper"]||[]).push([[0],{277:function(e,t){},284:function(e,t){},306:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),s=n(24),o=n.n(s),i=n(76),u=n(47),l=n(71),b=n.n(l),d=n(125),j=n(200),p=n(201),f=Object(i.createGlobalStyle)(a||(a=Object(d.a)(["\n    html {\n        height: 100%\n    }\n\n    body {\n       height: 100%;\n       margin: auto;\n       padding: 0px;\n       background-color: #F7F5F5;\n    }\n\n    #root {\n        height: 100%;\n        padding-right: 0.5rem;\n        align-items: center;\n        display: flex;\n        justify-content: center;\n    }\n\n    .MuiFormControl-root,\n    .MuiInputBase-root {\n        width: 100% !important;\n    }\n\n    @font-face {\n        font-family: 'Averta';\n        src: local('Averta'), local('Averta Bold'),\n        url(",") format('woff2'),\n        url(",") format('woff');\n    }\n"])),j.a,p.a),h=n(46),O=n(5),x=n.n(O),w=n(79),m=n(59),v=n(132),g=n(19),k=function(){var e=Object(r.useState)("loading..."),t=Object(h.a)(e,2),n=t[0],a=t[1],c=Object(l.useSafeAppsSDK)(),s=c.sdk,o=c.safe;function i(){return(i=Object(w.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.eth.getBalance([o.safeAddress]);case 2:t=e.sent,a(m.a.utils.formatEther(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){i.apply(this,arguments)}(),console.log("Updating ETH balance")}),[]),Object(g.jsxs)(v.a,{variant:"body2",component:"p",children:["Your ETH balance: ",n]})},E=n(207),S=["function approve(address _spender, uint256 _value) public returns (bool success)","function allowance(address _owner, address _spender) public view returns (uint256 remaining)","function balanceOf(address _owner) public view returns (uint256 balance)","event Approval(address indexed _owner, address indexed _spender, uint256 _value)"];function T(e){return"mainnet"==e?"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2":"0xc778417E063141139Fce010982780140Aa0cD5Ab"}var y,C=function(){var e=Object(r.useState)(""),t=Object(h.a)(e,2),n=t[0],a=t[1],c=Object(l.useSafeAppsSDK)(),s=c.sdk,o=c.safe,i=Object(r.useMemo)((function(){return new E.SafeAppsSdkProvider(o,s)}),[o,s]),u=Object(r.useMemo)((function(){return new m.a.Contract(T(o.network.toLowerCase()),S,i)}),[i]);function b(){return(b=Object(w.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.balanceOf(o.safeAddress);case 2:t=e.sent,a(m.a.utils.formatEther(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){b.apply(this,arguments)}(),console.log("Updating WETH balance")}),[]),Object(g.jsxs)(v.a,{variant:"body2",component:"p",children:["Your WETH Balance: ",n]})},H=n(372),A=n(187),F=n(368),z=["function withdraw(uint wad) public"],B=function(e){var t=Object(l.useSafeAppsSDK)(),n=t.sdk,a=t.safe,c=Object(r.useState)(""),s=Object(h.a)(c,2),o=s[0],i=s[1],b=Object(r.useState)(""),d=Object(h.a)(b,2),j=d[0],p=d[1],f=Object(r.useState)(0),O=Object(h.a)(f,2),v=O[0],k=O[1],E=Object(r.useState)(!1),S=Object(h.a)(E,2),y=S[0],C=S[1],B=Object(r.useState)(""),D=Object(h.a)(B,2),W=D[0],_=D[1],N=Object(r.useCallback)(Object(w.a)(x.a.mark((function t(){var r,c,s,i,u;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!y){t.next=2;break}return t.abrupt("return");case 2:if(!e.wrap){t.next=17;break}return t.prev=3,r=m.a.utils.parseEther(o),t.next=7,n.txs.send({txs:[{to:T(a.network.toLowerCase()),value:r.toString(),data:"0x"}]});case 7:c=t.sent,_(c.safeTxHash),console.log(c.safeTxHash),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),console.error(t.t0);case 15:t.next=30;break;case 17:return t.prev=17,s=m.a.utils.parseEther(o),i=new m.a.utils.Interface(z),t.next=22,n.txs.send({txs:[{to:T(a.network.toLowerCase()),value:"0",data:i.encodeFunctionData("withdraw",[s])}]});case 22:u=t.sent,_(u.safeTxHash),console.log(u.safeTxHash),t.next=30;break;case 27:t.prev=27,t.t1=t.catch(17),console.error(t.t1);case 30:case"end":return t.stop()}}),t,null,[[3,12],[17,27]])}))),[n,o,y,e.wrap]);function I(){return(I=Object(w.a)(x.a.mark((function e(){var t,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.eth.getBalance([a.safeAddress]);case 2:t=e.sent,r=m.a.utils.formatEther(t),k(Number.parseFloat(r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){!function(){I.apply(this,arguments)}()}),[a,n]);var M=Object(r.useCallback)((function(e){console.log(e),isNaN(Number(e))?(C(!0),p("Not a number")):Number.parseFloat(e)>v?(C(!0),p("Insufficient funds")):(C(!1),p(""),i(e))}),[v]);return Object(g.jsxs)("div",{children:[Object(g.jsx)(H.a,{open:0!=W.length,autoHideDuration:3e3,onClose:function(){return _("")},message:"You transaction has been submitted"}),Object(g.jsx)(A.a,{value:o,label:e.wrap?"ETH amount":"WETH amount",error:y,helperText:j,onChange:function(e){return M(e.target.value)}}),Object(g.jsx)(F.a,{children:Object(g.jsx)(u.Button,{size:"md",color:"primary",variant:"contained",onClick:function(){return N()},children:e.wrap?"Wrap":"Unwrap"})})]})},D=n(161),W=n(369),_=n(370),N=Object(D.a)({root:{alignItems:"center",justifyContent:"center"},logo:{width:"32px",height:"32px"}}),I=Object(i.default)(u.Title)(y||(y=Object(d.a)(["\n  margin-top: 0;"]))),M=function(){var e=N(),t=Object(r.useState)(!0),n=Object(h.a)(t,2),a=n[0],c=n[1];return Object(g.jsxs)(u.Card,{className:e.root,children:[Object(g.jsx)(W.a,{avatar:a?Object(g.jsx)(I,{size:"sm",children:"Wrap ETH"}):Object(g.jsx)(I,{size:"sm",children:"Unwrap WETH"})}),Object(g.jsx)(u.Button,{size:"md",color:"primary",variant:"outlined",onClick:function(){return c(!a)},children:"\u21c4 Switch"}),Object(g.jsx)(W.a,{avatar:a?Object(g.jsx)(u.Text,{size:"xl",strong:!0,children:"How much ETH do you want to wrap? "}):Object(g.jsx)(u.Text,{size:"xl",strong:!0,children:"How much WETH do you want to unwrap? "})}),Object(g.jsx)(_.a,{children:a?Object(g.jsx)(k,{}):Object(g.jsx)(C,{})}),Object(g.jsx)(F.a,{children:Object(g.jsx)(B,{wrap:a})})]})};o.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsxs)(i.ThemeProvider,{theme:u.theme,children:[Object(g.jsx)(f,{}),Object(g.jsx)(b.a,{loader:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(u.Title,{size:"md",children:"Waiting for Safe..."}),Object(g.jsx)(u.Loader,{size:"md"})]}),children:Object(g.jsx)(M,{})})]})}),document.getElementById("root"))}},[[306,1,2]]]);
//# sourceMappingURL=main.955f67bd.chunk.js.map