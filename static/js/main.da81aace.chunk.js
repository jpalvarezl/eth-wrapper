(this["webpackJsonpeth-wrapper"]=this["webpackJsonpeth-wrapper"]||[]).push([[0],{282:function(e,t){},289:function(e,t){},311:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),s=n(24),o=n.n(s),i=n(77),u=n(36),l=n(72),b=n.n(l),d=n(130),j=n(203),f=n(204),p=Object(i.createGlobalStyle)(a||(a=Object(d.a)(["\n    html {\n        height: 100%\n    }\n\n    body {\n       height: 100%;\n       margin: auto;\n       padding: 0px;\n       background-color: #F7F5F5;\n    }\n\n    #root {\n        height: 100%;\n        padding-right: 0.5rem;\n        align-items: center;\n        display: flex;\n        justify-content: center;\n    }\n\n    .MuiFormControl-root,\n    .MuiInputBase-root {\n        width: 100% !important;\n    }\n\n    @font-face {\n        font-family: 'Averta';\n        src: local('Averta'), local('Averta Bold'),\n        url(",") format('woff2'),\n        url(",") format('woff');\n    }\n"])),j.a,f.a),x=n(48),h=n(5),O=n.n(h),w=n(79),m=n(61),v=n(20),g=function(){var e=Object(r.useState)("loading..."),t=Object(x.a)(e,2),n=t[0],a=t[1],c=Object(l.useSafeAppsSDK)(),s=c.sdk,o=c.safe;function i(){return(i=Object(w.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.eth.getBalance([o.safeAddress]);case 2:t=e.sent,a(m.a.utils.formatEther(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){i.apply(this,arguments)}(),console.log("Updating ETH balance")}),[]),Object(v.jsxs)(u.Text,{size:"xl",children:["Your ETH balance: ",n]})},k=n(210),S=["function approve(address _spender, uint256 _value) public returns (bool success)","function allowance(address _owner, address _spender) public view returns (uint256 remaining)","function balanceOf(address _owner) public view returns (uint256 balance)","event Approval(address indexed _owner, address indexed _spender, uint256 _value)"];function T(e){return"mainnet"==e?"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2":"0xc778417E063141139Fce010982780140Aa0cD5Ab"}var E,y=function(){var e=Object(r.useState)(""),t=Object(x.a)(e,2),n=t[0],a=t[1],c=Object(l.useSafeAppsSDK)(),s=c.sdk,o=c.safe,i=Object(r.useMemo)((function(){return new k.SafeAppsSdkProvider(o,s)}),[o,s]),b=Object(r.useMemo)((function(){return new m.a.Contract(T(o.network.toLowerCase()),S,i)}),[i]);function d(){return(d=Object(w.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.balanceOf(o.safeAddress);case 2:t=e.sent,a(m.a.utils.formatEther(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){d.apply(this,arguments)}(),console.log("Updating WETH balance")}),[]),Object(v.jsxs)(u.Text,{size:"xl",children:["Your WETH Balance: ",n]})},C=n(379),H=n(376),A=["function withdraw(uint wad) public"],F=function(e){var t=Object(l.useSafeAppsSDK)(),n=t.sdk,a=t.safe,c=Object(r.useState)(""),s=Object(x.a)(c,2),o=s[0],i=s[1],b=Object(r.useState)(""),d=Object(x.a)(b,2),j=d[0],f=d[1],p=Object(r.useState)(0),h=Object(x.a)(p,2),g=h[0],k=h[1],S=Object(r.useState)(!1),E=Object(x.a)(S,2),y=E[0],F=E[1],z=Object(r.useState)(""),B=Object(x.a)(z,2),D=B[0],W=B[1],_=Object(r.useCallback)(Object(w.a)(O.a.mark((function t(){var r,c,s,i,u;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!y){t.next=2;break}return t.abrupt("return");case 2:if(!e.wrap){t.next=17;break}return t.prev=3,r=m.a.utils.parseEther(o),t.next=7,n.txs.send({txs:[{to:T(a.network.toLowerCase()),value:r.toString(),data:"0x"}]});case 7:c=t.sent,W(c.safeTxHash),console.log(c.safeTxHash),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),console.error(t.t0);case 15:t.next=30;break;case 17:return t.prev=17,s=m.a.utils.parseEther(o),i=new m.a.utils.Interface(A),t.next=22,n.txs.send({txs:[{to:T(a.network.toLowerCase()),value:"0",data:i.encodeFunctionData("withdraw",[s])}]});case 22:u=t.sent,W(u.safeTxHash),console.log(u.safeTxHash),t.next=30;break;case 27:t.prev=27,t.t1=t.catch(17),console.error(t.t1);case 30:case"end":return t.stop()}}),t,null,[[3,12],[17,27]])}))),[n,o,y,e.wrap]);function N(){return(N=Object(w.a)(O.a.mark((function e(){var t,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.eth.getBalance([a.safeAddress]);case 2:t=e.sent,r=m.a.utils.formatEther(t),k(Number.parseFloat(r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){!function(){N.apply(this,arguments)}()}),[a,n]);var I=Object(r.useCallback)((function(e){console.log(e),isNaN(Number(e))?(F(!0),f("Not a number")):Number.parseFloat(e)>g?(F(!0),f("Insufficient funds")):(F(!1),f(""),i(e))}),[g]);return Object(v.jsxs)("div",{children:[Object(v.jsx)(C.a,{open:0!=D.length,autoHideDuration:3e3,onClose:function(){return W("")},message:"You transaction has been submitted"}),Object(v.jsx)(u.TextField,{value:o,label:e.wrap?"ETH amount":"WETH amount",meta:{error:j},onChange:function(e){return I(e.target.value)}}),Object(v.jsx)(H.a,{children:Object(v.jsx)(u.Button,{size:"md",color:"primary",variant:"contained",onClick:function(){return _()},children:e.wrap?"Wrap":"Unwrap"})})]})},z=n(166),B=n(377),D=n(378),W=Object(z.a)({root:{alignItems:"center",justifyContent:"center"},logo:{width:"32px",height:"32px"}}),_=Object(i.default)(u.Title)(E||(E=Object(d.a)(["\n  margin-top: 0;"]))),N=function(){var e=W(),t=Object(r.useState)(!0),n=Object(x.a)(t,2),a=n[0],c=n[1];return Object(v.jsxs)(u.Card,{className:e.root,children:[Object(v.jsx)(B.a,{avatar:a?Object(v.jsx)(_,{size:"sm",children:"Wrap ETH"}):Object(v.jsx)(_,{size:"sm",children:"Unwrap WETH"})}),Object(v.jsx)(u.ButtonLink,{iconType:"code",iconSize:"md",color:"primary",textSize:"xl",onClick:function(){return c(!a)},children:"Switch"}),Object(v.jsx)(B.a,{avatar:a?Object(v.jsx)(u.Text,{size:"xl",strong:!0,children:"How much ETH do you want to wrap? "}):Object(v.jsx)(u.Text,{size:"xl",strong:!0,children:"How much WETH do you want to unwrap? "})}),Object(v.jsx)(D.a,{children:a?Object(v.jsx)(g,{}):Object(v.jsx)(y,{})}),Object(v.jsx)(H.a,{children:Object(v.jsx)(F,{wrap:a})})]})};o.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsxs)(i.ThemeProvider,{theme:u.theme,children:[Object(v.jsx)(p,{}),Object(v.jsx)(b.a,{loader:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(u.Title,{size:"md",children:"Waiting for Safe..."}),Object(v.jsx)(u.Loader,{size:"md"})]}),children:Object(v.jsx)(N,{})})]})}),document.getElementById("root"))}},[[311,1,2]]]);
//# sourceMappingURL=main.da81aace.chunk.js.map