(this["webpackJsonpeth-wrapper"]=this["webpackJsonpeth-wrapper"]||[]).push([[0],{282:function(e,t){},289:function(e,t){},311:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),s=n(24),o=n.n(s),i=n(77),u=n(42),l=n(72),b=n.n(l),d=n(130),j=n(204),p=n(205),f=Object(i.createGlobalStyle)(a||(a=Object(d.a)(["\n    html {\n        height: 100%\n    }\n\n    body {\n       height: 100%;\n       margin: auto;\n       padding: 0px;\n       background-color: #F7F5F5;\n    }\n\n    #root {\n        height: 100%;\n        padding-right: 0.5rem;\n        align-items: center;\n        display: flex;\n        justify-content: center;\n    }\n\n    .MuiFormControl-root,\n    .MuiInputBase-root {\n        width: 100% !important;\n    }\n\n    @font-face {\n        font-family: 'Averta';\n        src: local('Averta'), local('Averta Bold'),\n        url(",") format('woff2'),\n        url(",") format('woff');\n    }\n"])),j.a,p.a),h=n(48),x=n(5),O=n.n(x),m=n(79),w=n(61),v=n(137),g=n(20),k=function(){var e=Object(r.useState)("loading..."),t=Object(h.a)(e,2),n=t[0],a=t[1],c=Object(l.useSafeAppsSDK)(),s=c.sdk,o=c.safe;function i(){return(i=Object(m.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.eth.getBalance([o.safeAddress]);case 2:t=e.sent,a(w.a.utils.formatEther(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){i.apply(this,arguments)}(),console.log("Updating ETH balance")}),[]),Object(g.jsxs)(v.a,{variant:"body2",component:"p",children:["Your ETH balance: ",n]})},S=n(211),E=["function approve(address _spender, uint256 _value) public returns (bool success)","function allowance(address _owner, address _spender) public view returns (uint256 remaining)","function balanceOf(address _owner) public view returns (uint256 balance)","event Approval(address indexed _owner, address indexed _spender, uint256 _value)"];function T(e){return"mainnet"==e?"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2":"0xc778417E063141139Fce010982780140Aa0cD5Ab"}var y,C=function(){var e=Object(r.useState)(""),t=Object(h.a)(e,2),n=t[0],a=t[1],c=Object(l.useSafeAppsSDK)(),s=c.sdk,o=c.safe,i=Object(r.useMemo)((function(){return new S.SafeAppsSdkProvider(o,s)}),[o,s]),u=Object(r.useMemo)((function(){return new w.a.Contract(T(o.network.toLowerCase()),E,i)}),[i]);function b(){return(b=Object(m.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.balanceOf(o.safeAddress);case 2:t=e.sent,a(w.a.utils.formatEther(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){b.apply(this,arguments)}(),console.log("Updating WETH balance")}),[]),Object(g.jsxs)(v.a,{variant:"body2",component:"p",children:["Your WETH Balance: ",n]})},H=n(379),A=n(376),F=["function withdraw(uint wad) public"],z=function(e){var t=Object(l.useSafeAppsSDK)(),n=t.sdk,a=t.safe,c=Object(r.useState)(""),s=Object(h.a)(c,2),o=s[0],i=s[1],b=Object(r.useState)(""),d=Object(h.a)(b,2),j=d[0],p=d[1],f=Object(r.useState)(0),x=Object(h.a)(f,2),v=x[0],k=x[1],S=Object(r.useState)(!1),E=Object(h.a)(S,2),y=E[0],C=E[1],z=Object(r.useState)(""),B=Object(h.a)(z,2),D=B[0],W=B[1],_=Object(r.useCallback)(Object(m.a)(O.a.mark((function t(){var r,c,s,i,u;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!y){t.next=2;break}return t.abrupt("return");case 2:if(!e.wrap){t.next=17;break}return t.prev=3,r=w.a.utils.parseEther(o),t.next=7,n.txs.send({txs:[{to:T(a.network.toLowerCase()),value:r.toString(),data:"0x"}]});case 7:c=t.sent,W(c.safeTxHash),console.log(c.safeTxHash),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),console.error(t.t0);case 15:t.next=30;break;case 17:return t.prev=17,s=w.a.utils.parseEther(o),i=new w.a.utils.Interface(F),t.next=22,n.txs.send({txs:[{to:T(a.network.toLowerCase()),value:"0",data:i.encodeFunctionData("withdraw",[s])}]});case 22:u=t.sent,W(u.safeTxHash),console.log(u.safeTxHash),t.next=30;break;case 27:t.prev=27,t.t1=t.catch(17),console.error(t.t1);case 30:case"end":return t.stop()}}),t,null,[[3,12],[17,27]])}))),[n,o,y,e.wrap]);function N(){return(N=Object(m.a)(O.a.mark((function e(){var t,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.eth.getBalance([a.safeAddress]);case 2:t=e.sent,r=w.a.utils.formatEther(t),k(Number.parseFloat(r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){!function(){N.apply(this,arguments)}()}),[a,n]);var I=Object(r.useCallback)((function(e){console.log(e),isNaN(Number(e))?(C(!0),p("Not a number")):Number.parseFloat(e)>v?(C(!0),p("Insufficient funds")):(C(!1),p(""),i(e))}),[v]);return Object(g.jsxs)("div",{children:[Object(g.jsx)(H.a,{open:0!=D.length,autoHideDuration:3e3,onClose:function(){return W("")},message:"You transaction has been submitted"}),Object(g.jsx)(u.TextField,{value:o,label:e.wrap?"ETH amount":"WETH amount",meta:{error:j},onChange:function(e){return I(e.target.value)}}),Object(g.jsx)(A.a,{children:Object(g.jsx)(u.Button,{size:"md",color:"primary",variant:"contained",onClick:function(){return _()},children:e.wrap?"Wrap":"Unwrap"})})]})},B=n(167),D=n(377),W=n(378),_=Object(B.a)({root:{alignItems:"center",justifyContent:"center"},logo:{width:"32px",height:"32px"}}),N=Object(i.default)(u.Title)(y||(y=Object(d.a)(["\n  margin-top: 0;"]))),I=function(){var e=_(),t=Object(r.useState)(!0),n=Object(h.a)(t,2),a=n[0],c=n[1];return Object(g.jsxs)(u.Card,{className:e.root,children:[Object(g.jsx)(D.a,{avatar:a?Object(g.jsx)(N,{size:"sm",children:"Wrap ETH"}):Object(g.jsx)(N,{size:"sm",children:"Unwrap WETH"})}),Object(g.jsx)(u.ButtonLink,{iconType:"code",iconSize:"md",color:"primary",textSize:"xl",onClick:function(){return c(!a)},children:"Switch"}),Object(g.jsx)(D.a,{avatar:a?Object(g.jsx)(u.Text,{size:"xl",strong:!0,children:"How much ETH do you want to wrap? "}):Object(g.jsx)(u.Text,{size:"xl",strong:!0,children:"How much WETH do you want to unwrap? "})}),Object(g.jsx)(W.a,{children:a?Object(g.jsx)(k,{}):Object(g.jsx)(C,{})}),Object(g.jsx)(A.a,{children:Object(g.jsx)(z,{wrap:a})})]})};o.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsxs)(i.ThemeProvider,{theme:u.theme,children:[Object(g.jsx)(f,{}),Object(g.jsx)(b.a,{loader:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(u.Title,{size:"md",children:"Waiting for Safe..."}),Object(g.jsx)(u.Loader,{size:"md"})]}),children:Object(g.jsx)(I,{})})]})}),document.getElementById("root"))}},[[311,1,2]]]);
//# sourceMappingURL=main.e63f1c2c.chunk.js.map