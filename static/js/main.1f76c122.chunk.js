(this["webpackJsonpeth-wrapper"]=this["webpackJsonpeth-wrapper"]||[]).push([[0],{282:function(e,t){},289:function(e,t){},311:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),s=n(24),o=n.n(s),i=n(77),u=n(36),l=n(72),b=n.n(l),d=n(130),j=n(204),f=n(205),p=Object(i.createGlobalStyle)(a||(a=Object(d.a)(["\n    html {\n        height: 100%\n    }\n\n    body {\n       height: 100%;\n       margin: auto;\n       padding: 0px;\n       background-color: #F7F5F5;\n    }\n\n    #root {\n        height: 100%;\n        padding-right: 0.5rem;\n        align-items: center;\n        display: flex;\n        justify-content: center;\n    }\n\n    .MuiFormControl-root,\n    .MuiInputBase-root {\n        width: 100% !important;\n    }\n\n    @font-face {\n        font-family: 'Averta';\n        src: local('Averta'), local('Averta Bold'),\n        url(",") format('woff2'),\n        url(",") format('woff');\n    }\n"])),j.a,f.a),x=n(48),h=n(5),O=n.n(h),w=n(79),m=n(49),v=n(19),g=function(){var e=Object(r.useState)("loading..."),t=Object(x.a)(e,2),n=t[0],a=t[1],c=Object(l.useSafeAppsSDK)(),s=c.sdk,o=c.safe;function i(){return(i=Object(w.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.eth.getBalance([o.safeAddress]);case 2:t=e.sent,a(m.a.utils.formatEther(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){i.apply(this,arguments)}(),console.log("Updating ETH balance")}),[]),Object(v.jsxs)(u.Text,{size:"xl",children:["Your ETH balance: ",n]})},k=n(134),S=["function approve(address _spender, uint256 _value) public returns (bool success)","function allowance(address _owner, address _spender) public view returns (uint256 remaining)","function balanceOf(address _owner) public view returns (uint256 balance)","event Approval(address indexed _owner, address indexed _spender, uint256 _value)"];function T(e){return"mainnet"==e?"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2":"0xc778417E063141139Fce010982780140Aa0cD5Ab"}var E,C=function(){var e=Object(r.useState)(""),t=Object(x.a)(e,2),n=t[0],a=t[1],c=Object(l.useSafeAppsSDK)(),s=c.sdk,o=c.safe,i=Object(r.useMemo)((function(){return new k.SafeAppsSdkProvider(o,s)}),[o,s]),b=Object(r.useMemo)((function(){return new m.a.Contract(T(o.network.toLowerCase()),S,i)}),[i]);function d(){return(d=Object(w.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.balanceOf(o.safeAddress);case 2:t=e.sent,a(m.a.utils.formatEther(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){d.apply(this,arguments)}(),console.log("Updating WETH balance")}),[]),Object(v.jsxs)(u.Text,{size:"xl",children:["Your WETH Balance: ",n]})},y=n(381),A=n(378),H=["function withdraw(uint wad) public"],F=function(e){var t=Object(l.useSafeAppsSDK)(),n=t.sdk,a=t.safe,c=Object(r.useState)(""),s=Object(x.a)(c,2),o=s[0],i=s[1],b=Object(r.useState)(""),d=Object(x.a)(b,2),j=d[0],f=d[1],p=Object(r.useState)(0),h=Object(x.a)(p,2),g=h[0],E=h[1],C=Object(r.useState)(!1),F=Object(x.a)(C,2),z=F[0],B=F[1],D=Object(r.useState)(""),W=Object(x.a)(D,2),_=W[0],M=W[1],N=Object(r.useMemo)((function(){return new k.SafeAppsSdkProvider(a,n)}),[a,n]),L=Object(r.useMemo)((function(){return new m.a.Contract(T(a.network.toLowerCase()),S,N)}),[N]),I=Object(r.useCallback)(Object(w.a)(O.a.mark((function t(){var r,c,s,i,u;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(K(o),!z){t.next=3;break}return t.abrupt("return");case 3:if(!e.wrap){t.next=18;break}return t.prev=4,r=m.a.utils.parseEther(o),t.next=8,n.txs.send({txs:[{to:T(a.network.toLowerCase()),value:r.toString(),data:"0x"}]});case 8:c=t.sent,M(c.safeTxHash),console.log(c.safeTxHash),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(4),console.error(t.t0);case 16:t.next=31;break;case 18:return t.prev=18,s=m.a.utils.parseEther(o),i=new m.a.utils.Interface(H),t.next=23,n.txs.send({txs:[{to:T(a.network.toLowerCase()),value:"0",data:i.encodeFunctionData("withdraw",[s])}]});case 23:u=t.sent,M(u.safeTxHash),console.log(u.safeTxHash),t.next=31;break;case 28:t.prev=28,t.t1=t.catch(18),console.error(t.t1);case 31:case"end":return t.stop()}}),t,null,[[4,13],[18,28]])}))),[n,o,z,e.wrap]);function U(){return(U=Object(w.a)(O.a.mark((function t(){var r,c,s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r="0",!e.wrap){t.next=8;break}return t.next=4,n.eth.getBalance([a.safeAddress]);case 4:c=t.sent,r=m.a.utils.formatEther(c),t.next=12;break;case 8:return t.next=10,L.balanceOf(a.safeAddress);case 10:s=t.sent,r=m.a.utils.formatEther(s);case 12:E(Number.parseFloat(r));case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(r.useEffect)((function(){!function(){U.apply(this,arguments)}()}),[a,n,e.wrap]);var K=Object(r.useCallback)((function(e){console.log(e),isNaN(Number(e))?(B(!0),f("Not a number")):Number.parseFloat(e)>g?(B(!0),f("Insufficient funds")):(B(!1),f(""),i(e))}),[g]);return Object(v.jsxs)(A.a,{container:!0,spacing:3,children:[Object(v.jsx)(y.a,{open:0!=_.length,autoHideDuration:3e3,onClose:function(){return M("")},message:"You transaction has been submitted"}),Object(v.jsx)(A.a,{item:!0,xs:8,children:Object(v.jsx)(u.TextField,{value:o,label:e.wrap?"ETH amount":"WETH amount",meta:{error:j},onChange:function(e){return K(e.target.value)}})}),Object(v.jsx)(A.a,{item:!0,xs:8,children:Object(v.jsx)(u.Button,{size:"md",color:"primary",variant:"contained",onClick:function(){return I()},children:e.wrap?"Wrap":"Unwrap"})})]})},z=n(167),B=n(379),D=n(380),W=Object(z.a)({root:{alignItems:"center",justifyContent:"center"},logo:{width:"32px",height:"32px"}}),_=Object(i.default)(u.Title)(E||(E=Object(d.a)(["\n  margin-top: 0;"]))),M=function(){var e=W(),t=Object(r.useState)(!0),n=Object(x.a)(t,2),a=n[0],c=n[1];return Object(v.jsxs)(u.Card,{className:e.root,children:[Object(v.jsx)(B.a,{title:a?Object(v.jsx)(_,{size:"sm",children:"Wrap ETH"}):Object(v.jsx)(_,{size:"sm",children:"Unwrap WETH"}),action:Object(v.jsx)(u.ButtonLink,{iconType:"code",iconSize:"md",color:"primary",textSize:"xl",onClick:function(){return c(!a)},children:"Switch"})}),Object(v.jsxs)(D.a,{children:[a?Object(v.jsx)(u.Text,{size:"xl",strong:!0,children:"How much ETH do you want to wrap? "}):Object(v.jsx)(u.Text,{size:"xl",strong:!0,children:"How much WETH do you want to unwrap? "}),Object(v.jsx)("br",{}),a?Object(v.jsx)(g,{}):Object(v.jsx)(C,{}),Object(v.jsx)("br",{}),Object(v.jsx)(F,{wrap:a})]})]})};o.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsxs)(i.ThemeProvider,{theme:u.theme,children:[Object(v.jsx)(p,{}),Object(v.jsx)(b.a,{loader:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(u.Title,{size:"md",children:"Waiting for Safe..."}),Object(v.jsx)(u.Loader,{size:"md"})]}),children:Object(v.jsx)(M,{})})]})}),document.getElementById("root"))}},[[311,1,2]]]);
//# sourceMappingURL=main.1f76c122.chunk.js.map