{"version":3,"sources":["GlobalStyle.ts","components/EthBalance.tsx","utils/Erc20Constants.ts","components/WethBalance.tsx","utils/WETHConstants.ts","components/Wrapper.tsx","assets/svg/eth.svg","assets/svg/weth.svg","App.tsx","index.tsx"],"names":["GlobalStyle","createGlobalStyle","avertaFont","avertaBoldFont","EthBalance","useState","balance","setBalance","useSafeAppsSDK","sdk","safe","a","eth","getBalance","safeAddress","balanceEth","ethers","utils","formatEther","useEffect","fetchBalance","console","log","Typography","variant","component","Erc20","getWethAddress","network","WethBalance","provider","useMemo","SafeAppsSdkProvider","weth","Contract","toLowerCase","balanceOf","balanceWeth","WETHwithdraw_function","Wrapper","props","amountToWrap","setAmountToWrap","errorMessage","setErrorMessage","availableEth","setAvailableEth","isError","setIsError","safeTxHash","setSafeTxHash","wrapEth","useCallback","wrap","parsedAmount","parseEther","txs","send","to","value","toString","data","safeTx","error","withdraw","Interface","encodeFunctionData","Number","parseFloat","fetchAvailableEth","validateAmout","newValue","isNaN","Snackbar","open","length","autoHideDuration","onClose","message","TextField","label","helperText","onChange","e","target","CardActions","Button","size","color","onClick","_extends","Object","assign","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","transform","d","fill","SvgEth","_ref","svgRef","title","titleId","xmlns","viewBox","width","height","ref","id","ForwardRef","x","rx","_ref3","y","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","SvgWeth","useStyles","styled","form","makeStyles","root","maxWidth","maxHeight","logo","App","classes","setWrap","Card","className","CardHeader","avatar","Avatar","alt","subheader","CardContent","ReactDOM","render","StrictMode","theme","loader","document","getElementById"],"mappings":"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","file":"static/js/main.2752ed9c.chunk.js","sourcesContent":["import { createGlobalStyle } from 'styled-components';\nimport avertaFont from '@gnosis.pm/safe-react-components/dist/fonts/averta-normal.woff2';\nimport avertaBoldFont from '@gnosis.pm/safe-react-components/dist/fonts/averta-bold.woff2';\n\nconst GlobalStyle = createGlobalStyle`\n    html {\n        height: 100%\n    }\n\n    body {\n       height: 100%;\n       margin: 0px;\n       padding: 0px;\n    }\n\n    #root {\n        height: 100%;\n        padding-right: 0.5rem;\n    }\n\n    .MuiFormControl-root,\n    .MuiInputBase-root {\n        width: 100% !important;\n    }\n\n    @font-face {\n        font-family: 'Averta';\n        src: local('Averta'), local('Averta Bold'),\n        url(${avertaFont}) format('woff2'),\n        url(${avertaBoldFont}) format('woff');\n    }\n`;\n\nexport default GlobalStyle;\n","import React, { useEffect, useState } from 'react';\nimport { ethers } from 'ethers';\nimport { useSafeAppsSDK } from '@gnosis.pm/safe-apps-react-sdk';\nimport { Typography } from '@material-ui/core';\n\nconst EthBalance: React.FC = () => {\n    const [balance, setBalance] = useState(\"loading state\");\n    const { sdk, safe } = useSafeAppsSDK();\n\n    async function fetchBalance() {\n        const balanceEth = await sdk.eth.getBalance([safe.safeAddress]);\n        setBalance(ethers.utils.formatEther(balanceEth));\n    }\n\n    useEffect(() => {\n        fetchBalance();\n        console.log(\"Updating ETH balance\");\n    }, []);\n\n    return <Typography variant=\"body2\" component=\"p\" >ETH balance: {balance}</Typography>\n}\n\nexport default EthBalance;\n\n","export const Erc20 = [\n    \"function approve(address _spender, uint256 _value) public returns (bool success)\",\n    \"function allowance(address _owner, address _spender) public view returns (uint256 remaining)\",\n    \"function balanceOf(address _owner) public view returns (uint256 balance)\",\n    \"event Approval(address indexed _owner, address indexed _spender, uint256 _value)\"\n];\n\nexport function getWethAddress(network: string): string {\n    return network == \"mainnet\" ? \"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2\" :\n        \"0xc778417E063141139Fce010982780140Aa0cD5Ab\";\n}\n","import React, { useEffect, useState, useMemo, useCallback } from 'react';\nimport { SafeAppsSdkProvider } from '@gnosis.pm/safe-apps-ethers-provider';\nimport { ethers } from 'ethers';\nimport { useSafeAppsSDK } from '@gnosis.pm/safe-apps-react-sdk';\nimport { Erc20, getWethAddress } from '../utils/Erc20Constants'\nimport { Typography } from '@material-ui/core';\n\nconst WethBalance: React.FC = () => {\n    const [balance, setBalance] = useState(\"\");\n\n    const { sdk, safe } = useSafeAppsSDK();\n    const provider = useMemo(() => new SafeAppsSdkProvider(safe, sdk), [safe, sdk]);\n    const weth = useMemo(() => new ethers.Contract(getWethAddress(safe.network.toLowerCase()), Erc20, provider), [provider]);\n\n    async function fetchBalance() {\n        const balanceWeth = await weth.balanceOf(safe.safeAddress);\n        setBalance(ethers.utils.formatEther(balanceWeth));\n    }\n\n    useEffect(() => {\n        fetchBalance();\n        console.log(\"Updating WETH balance\");\n    }, []);\n\n    return <Typography variant=\"body2\" component=\"p\" >WETH Balance: {balance}</Typography>\n}\n\nexport default WethBalance;\n\n","export const WETHwithdraw_function = [\"function withdraw(uint wad) public\"];\nexport const WETH_ABI = `\n[\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [],\n\t\t\"name\": \"name\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"string\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"guy\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"wad\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"approve\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"bool\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [],\n\t\t\"name\": \"totalSupply\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"src\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dst\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"wad\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"transferFrom\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"bool\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"wad\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"withdraw\",\n\t\t\"outputs\": [],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [],\n\t\t\"name\": \"decimals\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint8\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"balanceOf\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [],\n\t\t\"name\": \"symbol\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"string\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"dst\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"wad\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"transfer\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"bool\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": false,\n\t\t\"inputs\": [],\n\t\t\"name\": \"deposit\",\n\t\t\"outputs\": [],\n\t\t\"payable\": true,\n\t\t\"stateMutability\": \"payable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"allowance\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"payable\": true,\n\t\t\"stateMutability\": \"payable\",\n\t\t\"type\": \"fallback\"\n\t},\n\t{\n\t\t\"anonymous\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"indexed\": true,\n\t\t\t\t\"name\": \"src\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": true,\n\t\t\t\t\"name\": \"guy\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"name\": \"wad\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"Approval\",\n\t\t\"type\": \"event\"\n\t},\n\t{\n\t\t\"anonymous\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"indexed\": true,\n\t\t\t\t\"name\": \"src\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": true,\n\t\t\t\t\"name\": \"dst\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"name\": \"wad\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"Transfer\",\n\t\t\"type\": \"event\"\n\t},\n\t{\n\t\t\"anonymous\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"indexed\": true,\n\t\t\t\t\"name\": \"dst\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"name\": \"wad\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"Deposit\",\n\t\t\"type\": \"event\"\n\t},\n\t{\n\t\t\"anonymous\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"indexed\": true,\n\t\t\t\t\"name\": \"src\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"name\": \"wad\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"Withdrawal\",\n\t\t\"type\": \"event\"\n\t}\n]\n`;\n","import React, { useCallback, useEffect, useState, useMemo } from 'react';\nimport { useSafeAppsSDK } from '@gnosis.pm/safe-apps-react-sdk';\nimport { Button, CardActions, Snackbar, TextField } from '@material-ui/core';\nimport { getWethAddress } from '../utils/Erc20Constants';\nimport { ethers } from 'ethers';\nimport { WETHwithdraw_function } from '../utils/WETHConstants';\n\ninterface WrapperProps {\n    wrap: boolean\n}\n\nconst Wrapper: React.FC<WrapperProps> = (props: WrapperProps) => {\n    const { sdk, safe } = useSafeAppsSDK();\n    // const weth = useMemo(() => new ethers.Contract(WETH_ADDRESS, WETH_ABI, new SafeAppsSdkProvider(safe, sdk)), [sdk, safe]);\n\n    const [amountToWrap, setAmountToWrap] = useState(\"\");\n    const [errorMessage, setErrorMessage] = useState(\"\");\n    const [availableEth, setAvailableEth] = useState(0.0);\n    const [isError, setIsError] = useState(false);\n    const [safeTxHash, setSafeTxHash] = useState(\"\");\n\n    const wrapEth = useCallback(async () => {\n        if (isError) {\n            return;\n        }\n\n        if (props.wrap) {\n            try {\n                const parsedAmount = ethers.utils.parseEther(amountToWrap)\n                const safeTx = await sdk.txs.send({\n                    txs: [{\n                        to: getWethAddress(safe.network.toLowerCase()),\n                        value: parsedAmount.toString(),\n                        data: '0x'\n                    }]\n                })\n                setSafeTxHash(safeTx.safeTxHash);\n                console.log(safeTx.safeTxHash);\n            } catch (e) {\n                console.error(e)\n            }\n        } else {\n            try {\n                const parsedAmount = ethers.utils.parseEther(amountToWrap);\n                const withdraw = new ethers.utils.Interface(WETHwithdraw_function);\n                const safeTx = await sdk.txs.send({\n                    txs: [{\n                        to: getWethAddress(safe.network.toLowerCase()),\n                        value: '0',\n                        data: withdraw.encodeFunctionData(\"withdraw\", [parsedAmount])\n                    }]\n                })\n                setSafeTxHash(safeTx.safeTxHash);\n                console.log(safeTx.safeTxHash);\n            } catch (e) {\n                console.error(e);\n            }\n        }\n    }, [sdk, amountToWrap, isError, props.wrap])\n\n    useEffect(() => {\n        fetchAvailableEth();\n    }, [safe, sdk]);\n\n    async function fetchAvailableEth() {\n        const balanceEth = await sdk.eth.getBalance([safe.safeAddress]);\n        const a = ethers.utils.formatEther(balanceEth);\n        setAvailableEth(Number.parseFloat(a));\n    };\n\n    const validateAmout = useCallback((newValue: string) => {\n        console.log(newValue);\n        if (isNaN(Number(newValue))) {\n            setIsError(true);\n            setErrorMessage(\"Not a number\");\n        }\n        else if (Number.parseFloat(newValue) > availableEth) {\n            setIsError(true);\n            setErrorMessage(\"Insufficient funds\");\n        }\n        else {\n            setIsError(false);\n            setErrorMessage(\"\");\n            setAmountToWrap(newValue);\n        }\n    }, [availableEth])\n\n    return (\n        <div>\n            <Snackbar\n                open={safeTxHash.length != 0}\n                autoHideDuration={3000}\n                onClose={() => setSafeTxHash(\"\")}\n                message=\"You transaction has been submitted\"\n            />\n            <TextField\n                value={amountToWrap}\n                label={props.wrap ? \"ETH amount\" : \"WETH amount\"}\n                error={isError}\n                helperText={errorMessage}\n                onChange={e => validateAmout(e.target.value)} />\n\n            <CardActions>\n                <Button\n                    size=\"small\"\n                    color=\"primary\"\n                    onClick={() => wrapEth()}>\n                    {props.wrap ? \"Wrap\" : \"Unwrap\"}\n                </Button>\n            </CardActions>\n        </div>);\n}\n\nexport default Wrapper;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(-385.9)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M999.72,0l-13.4,45.58V1368l13.4,13.38,613.82-362.82Z\",\n  fill: \"#343434\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M999.72,0L385.9,1018.56,999.72,1381.4V0Z\",\n  fill: \"#8c8c8c\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M999.72,1497.64l-7.56,9.22V1978l7.56,22,614.18-865Z\",\n  fill: \"#3c3c3b\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M999.72,2000V1497.62L385.9,1135Z\",\n  fill: \"#8c8c8c\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m999.72 1381.4l613.8-362.84-613.8-279v641.84\",\n  fill: \"#141414\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m385.9 1018.56l613.8 362.84v-641.86\",\n  fill: \"#393939\"\n}));\n\nfunction SvgEth(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 1228 2000\",\n    width: 2000,\n    height: 2000,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEth);\nexport default __webpack_public_path__ + \"static/media/eth.91d85d75.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 184.16,\n  width: 1815.84,\n  height: 1815.84,\n  rx: 267.39,\n  fill: \"#939393\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"rect\", {\n  y: 184.16,\n  width: 1815.84,\n  height: 1815.84,\n  rx: 267.39,\n  fill: \"#303030\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M907.79,367.78l-9.71,33v957.83l9.71,9.69,444.59-262.79Z\",\n  fill: \"#9b9b9b\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m907.79 367.78l-444.59 737.74 444.59 262.81\",\n  fill: \"#fff\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M907.79,1452.52l-5.48,6.68v341.25l5.48,15.93,444.85-626.55Z\",\n  fill: \"#9b9b9b\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m907.79 1816.38l0-363.87-444.59-262.68\",\n  fill: \"#fff\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M907.79,1368.33l444.58-262.81L907.79,903.43v464.9\",\n  fill: \"#666\"\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m463.2 1105.52l444.58 262.81 0-464.9\",\n  fill: \"#9b9b9b\"\n});\n\nfunction SvgWeth(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 2000,\n    height: 2000,\n    viewBox: \"0 0 2000 2000\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgWeth);\nexport default __webpack_public_path__ + \"static/media/weth.b610526e.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components';\nimport EthBalance from './components/EthBalance';\nimport WethBalance from './components/WethBalance';\nimport Wrapper from './components/Wrapper';\nimport { CardContent, Card, makeStyles, CardActions, CardHeader, IconButton, Avatar } from '@material-ui/core';\nimport { ReactComponent as EthLogo } from './assets/svg/eth.svg';\nimport { ReactComponent as WethLogo } from './assets/svg/weth.svg';\nimport React, { useState } from 'react';\n\nconst Container = styled.form`\n  margin-bottom: 2rem;\n  width: 100%;\n  max-width: 480px;\n\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-column-gap: 1rem;\n  grid-row-gap: 1rem;\n`;\n\nconst useStyles = makeStyles({\n  root: {\n    maxWidth: \"300px\",\n    maxHeight: \"300px\"\n  },\n  logo: {\n    width: \"32px\",\n    height: \"32px\",\n  }\n});\n\n\nconst App: React.FC = () => {\n  const classes = useStyles();\n  const [wrap, setWrap] = useState(true);\n\n  return (\n    <Card className={classes.root}  >\n      <CardHeader\n        avatar={\n\n          wrap ?\n            <Avatar alt=\"wrap\" > <EthLogo className={classes.logo} /></Avatar> :\n            <Avatar alt=\"unwrap\" ><WethLogo className={classes.logo} /></Avatar>\n        }\n        title={wrap ? \"WRAP\" : \"UNWRAP\"}\n        subheader=\"Tap to toggle (un)wrap\"\n        onClick={() => setWrap(!wrap)}\n      />\n      <CardContent>\n        {wrap ?\n          <EthBalance />\n          : <WethBalance />}\n      </CardContent>\n      <CardActions>\n        <Wrapper wrap={wrap} />\n      </CardActions>\n    </Card >\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { ThemeProvider } from 'styled-components';\nimport { theme, Loader, Title } from '@gnosis.pm/safe-react-components';\nimport SafeProvider from '@gnosis.pm/safe-apps-react-sdk';\n\nimport GlobalStyle from './GlobalStyle';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <GlobalStyle />\n      <SafeProvider\n        loader={\n          <>\n            <Title size=\"md\">Waiting for Safe...</Title>\n            <Loader size=\"md\" />\n          </>\n        }\n      >\n        <App />\n      </SafeProvider>\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}